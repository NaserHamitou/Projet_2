<div #rack id="main-container" tabindex="0" (click)="rack.focus()" (focusout)="cancelAll()">
    <div style="flex: 2; height: 100%"></div>
    <div id="rack-container">
        <div style="height: 20%; width: 100%"></div>
        <div style="display: flex; height: 80%; width: 100%">
            <div style="flex: 2; height: 80%"></div>
            <div id="leg"></div>
            <div
                style="
                    flex: 16;
                    height: 70%;
                    background-color: #bb9457;
                    border: solid;
                    border-bottom-width: 7px;
                    border-color: #99582a;
                    border-top-width: 6px;
                    border-top-color: #e1bb80;
                "
            >
                <table id="letter-table">
                    <tr>
                        <th
                            *ngFor="let letter of letterRack"
                            (click)="rackService.selectLetter(letter)"
                            (contextmenu)="rackService.selectForExchange(letter, $event)"
                        >
                            <div class="letter-holder" *ngIf="letter && letter.isSelected && !letter.isSelectedExchange" id="letter">
                                {{ letter.getLetter() }}
                            </div>
                            <div class="letter-holder" *ngIf="letter && !letter.isSelected && letter.isSelectedExchange" id="letter-swap">
                                {{ letter.getLetter() }}
                            </div>
                            <div class="letter-holder" *ngIf="letter && !letter.isSelected && !letter.isSelectedExchange">
                                {{ letter.getLetter() }}
                            </div>
                        </th>
                    </tr>
                </table>
            </div>
            <div id="leg2"></div>
            <div style="flex: 2; height: 80%"></div>
        </div>
    </div>
    <div *ngIf="rackService.selectedLetters.length <= 0" style="height: 100%; flex: 2"></div>
    <div
        *ngIf="rackService.selectedLetters.length > 0 && rackService.letterRack.length > 6"
        id="button-container"
        style="height: 100%; flex: 2; display: flex; flex-direction: column; justify-content: space-evenly; align-items: center"
    >
        <div class="button-1" (click)="exchange()">Ã‰changer</div>
        <div class="button-2" (click)="cancelExchange()">Annuler</div>
    </div>
</div>
